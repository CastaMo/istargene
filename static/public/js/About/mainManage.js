// Generated by LiveScript 1.4.0
var mainManage;
mainManage = (function(){
  var addListener, rotateDisplay, page, _initDependModule, _initRotate, _initPageToggle, _checkHash, _initHashEvent;
  addListener = [util.addListener][0];
  rotateDisplay = null;
  page = null;
  _initDependModule = function(){
    rotateDisplay = require("./rotateDisplay.js");
    page = require("./pageManage.js");
  };
  _initRotate = function(){
    var elem, i$, ref$, len$, i, dom;
    elem = [0, 1, 2, 3, 4];
    for (i$ = 0, len$ = (ref$ = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]).length; i$ < len$; ++i$) {
      i = ref$[i$];
      elem.sort(fn$);
    }
    for (i$ = 0, len$ = (ref$ = $(".pic-display-list li .display-pic")).length; i$ < len$; ++i$) {
      i = i$;
      dom = ref$[i$];
      dom.style.backgroundImage = "url('/images/rotate/rotate-" + elem[i] + ".jpg')";
    }
    new rotateDisplay({
      displayCSSSelector: ".pic-display-list",
      chooseCSSSelector: ".pic-controll-list",
      delay: 3000,
      leftArrowCSSSelector: ".left-arrow",
      rightArrowCSSSelector: ".right-arrow"
    });
    function fn$(a, b){
      var ref$;
      return (ref$ = Math.random() > 0.5) != null
        ? ref$
        : {
          a: b
        };
    }
  };
  _initPageToggle = function(){
    var _allChoose, i$, len$;
    _allChoose = $("#all-info .choose-list li");
    for (i$ = 0, len$ = _allChoose.length; i$ < len$; ++i$) {
      (fn$.call(this, i$, _allChoose[i$]));
    }
    function fn$(i, dom){
      $(dom).click(function(){
        return window.location.hash = i;
      });
    }
  };
  _checkHash = function(){
    var num;
    num = window.location.hash;
    if (num = num.replace("#", "")) {
      return page.togglePage(num);
    }
  };
  _initHashEvent = function(){
    return addListener(window, "popstate", function(){
      return _checkHash();
    });
  };
  return {
    initial: function(){
      _initDependModule();
      _initRotate();
      _initPageToggle();
      _checkHash();
      _initHashEvent();
    }
  };
}.call(this));
module.exports = mainManage;